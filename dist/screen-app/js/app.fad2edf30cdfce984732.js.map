{"version":3,"sources":["webpack:///src/components/Clock.vue","webpack:///./src/components/Clock.vue?6a07","webpack:///src/components/DebugTimeInput.vue","webpack:///./src/components/DebugTimeInput.vue?bb47","webpack:///src/components/DebugPane.vue","webpack:///./src/components/Clock.vue","webpack:///./src/components/DebugTimeInput.vue","webpack:///./src/components/DebugPane.vue?248e","webpack:///./src/components/DebugPane.vue","webpack:///src/components/IFramePlayer.vue","webpack:///./src/components/IFramePlayer.vue?1e6d","webpack:///./src/components/IFramePlayer.vue","webpack:///./src/utils/Eventable.js","webpack:///./src/services/scheduler/Rotater.js","webpack:///./src/utils/date.js","webpack:///./src/services/scheduler/Program.js","webpack:///./src/utils/api-acf.js","webpack:///./src/utils/api.js","webpack:///./src/services/scheduler/Scheduler.js","webpack:///src/components/DefaultLayout.vue","webpack:///./src/components/DefaultLayout.vue?6f40","webpack:///./src/components/DefaultLayout.vue","webpack:///src/components/SplitLayout.vue","webpack:///./src/components/SplitLayout.vue?3c02","webpack:///./src/components/SplitLayout.vue","webpack:///src/App.vue","webpack:///./src/App.vue?0a9d","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./node_modules/moment/locale en"],"names":["Clock","Function","timeFunction","components_Clock","render","_h","this","$createElement","_self","_c","_v","_s","time","format","staticRenderFns","formatDate","datetime","formatTime","DebugTimeInput","debugTime","moment_default","clearDebugTime","components_DebugTimeInput","_vm","directives","name","rawName","value","expression","attrs","id","type","domProps","on","input","$event","target","composing","debugDate","step","click","setDebugTime","DebugPane","__webpack_require__","normalizeComponent","DebugTimeInput_normalizeComponent","pinned","getScheduleTime","components_DebugPane","class","collapsed","debugPane","mouseover","expand","mouseout","collapse","_e","staticClass","scheduler","togglePinned","src_components_DebugPane","DebugPane_normalizeComponent","ssrContext","IFramePlayer","String","components_IFramePlayer","src","source","src_components_IFramePlayer","IFramePlayer_normalizeComponent","listeners","event","listener","Error","push","oldListeners","length","filter","item","_len","arguments","args","Array","_key","forEach","programs","currentIndex","timer","undefined","oldPrograms","oldProgram","newIndex","findIndex","program","isEquivalent","activateProgram","_this2","clearTimeout","fire","setTimeout","options","utils_Eventable","setTime","dateTime","hour","minute","second","milliseconds","isMidnight","parseTime","a","isMoment","HTML5_FMT","TIME_SECONDS","parseDateTime","getNextDateTime","days","scheduleTime","direction","scheduleDay","day","baseDay","daysUntil","isBefore","currentDay","find","getFutureDay","isAfter","slice","reverse","getPastDay","nextDateTime","add","parseProgram","daysOfWeek","schedule","assign_default","map","dayIndex","indexOf","startTime","endTime","startDateTime","endDateTime","Program","config","classCallCheck_default","isEnabled","isActive","enabled","nextRun","startAt","endAt","isExpired","isAlwaysActive","baseTime","fixedStart","isSame","isSameOrBefore","url","convertBlanks","transformAcfProgram","number","guid","result","content","replace","document","location","origin","priority","play_days","play_start","play_end","publish_datetime","unpublish_datetime","play_disable","play_length","parse_int_default","transitions","play_exact","transformProgramData","data","acf","usesAcfFormat","schedule_repeater","transformAcfData","_ref","_ref2","loadScreenInfo","asyncToGenerator_default","regenerator_default","mark","_callee","apiBase","screenId","response","wrap","_context","prev","next","vue_esm","http","get","sent","abrupt","stop","_x","_x2","apply","loadPrograms","_callee2","_context2","_x3","filterByHighestPriority","filtered","debugTimeSetAt","serverTime","serverTimeSetAt","activePrograms","timers","map_default","refreshRate","scheduleAll","elapsed","$log","debug","scheduler_Program","values_default","load","_this3","update","_this4","configureNextRun","nextUpdateAt","timeUntilNextUpdate","DefaultLayout","_this","scheduler_Rotater","player1Active","displayDelay","components_DefaultLayout","inactive","player","player1Url","player2Url","src_components_DefaultLayout","DefaultLayout_normalizeComponent","SplitLayout","components_SplitLayout","_l","index","key","src_components_SplitLayout","SplitLayout_normalizeComponent","App","scheduler_Scheduler","screenid","ID","scheduleId","layout","server_time","scheduleUrl","selectortype_template_index_0_src_App","src_App","App_normalizeComponent","loadConfig","parameter","devValue","$el","attributes","use","dist_default","logLevel","vue_resource_esm","productionTip","el","components","template","beforeMount","call","./en-au","./en-au.js","./en-ca","./en-ca.js","./en-gb","./en-gb.js","./en-ie","./en-ie.js","./en-il","./en-il.js","./en-nz","./en-nz.js","webpackContext","req","webpackContextResolve","keys","Object","resolve","module","exports"],"mappings":"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","file":"screen-app/js/app.fad2edf30cdfce984732.js","sourcesContent":["<template>\r\n  <span>{{ time.format('dddd, MMMM Do YYYY - h:mm:ss a') }}</span>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Clock',\r\n  props: {\r\n    timeFunction: {\r\n      type: Function,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      time: this.timeFunction(),\r\n    };\r\n  },\r\n  methods: {\r\n    updateTime() {\r\n      this.time = this.timeFunction();\r\n    },\r\n  },\r\n  mounted() {\r\n    setInterval(this.updateTime, 1000);\r\n  },\r\n};\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Clock.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_vm._v(_vm._s(_vm.time.format('dddd, MMMM Do YYYY - h:mm:ss a')))])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6680d8e4\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Clock.vue\n// module id = null\n// module chunks = ","<template>\r\n  <span>\r\n    <input id=\"date\" type=\"date\" v-model=\"debugDate\" />\r\n    <input id=\"time\" type=\"time\" v-model=\"debugTime\" step=\"1\" />\r\n    <input type=\"button\" value=\"Set\" @click=\"setDebugTime\" />\r\n    <input type=\"button\" value=\"Clear\" @click=\"clearDebugTime\" />\r\n  </span>\r\n</template>\r\n\r\n<script>\r\nimport moment from 'moment';\r\n\r\nfunction formatDate(datetime) {\r\n  return datetime && datetime.format('YYYY-MM-DD');\r\n}\r\n\r\nfunction formatTime(datetime) {\r\n  return datetime && datetime.format('HH:mm:ss');\r\n}\r\n\r\nexport default {\r\n  name: 'DebugTimeInput',\r\n  props: {\r\n    scheduler: {\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      debugDate: formatDate(this.scheduler.debugTime),\r\n      debugTime: formatTime(this.scheduler.debugTime),\r\n    };\r\n  },\r\n  methods: {\r\n    setDebugTime() {\r\n      const date = this.debugDate || formatDate(moment());\r\n      const time = this.debugTime || formatTime(moment());\r\n\r\n      this.scheduler.setDebugTime(moment(`${date} ${time}`));\r\n    },\r\n    clearDebugTime() {\r\n      this.scheduler.clearDebugTime();\r\n    },\r\n  },\r\n};\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/DebugTimeInput.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.debugDate),expression:\"debugDate\"}],attrs:{\"id\":\"date\",\"type\":\"date\"},domProps:{\"value\":(_vm.debugDate)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.debugDate=$event.target.value}}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.debugTime),expression:\"debugTime\"}],attrs:{\"id\":\"time\",\"type\":\"time\",\"step\":\"1\"},domProps:{\"value\":(_vm.debugTime)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.debugTime=$event.target.value}}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":\"button\",\"value\":\"Set\"},on:{\"click\":_vm.setDebugTime}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":\"button\",\"value\":\"Clear\"},on:{\"click\":_vm.clearDebugTime}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-738e4bc9\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/DebugTimeInput.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div\r\n    :class=\"{ collapsed: collapsed, 'debugPane': true }\"\r\n    @mouseover=\"expand\"\r\n    @mouseout=\"collapse\"\r\n  >\r\n    <div v-if=\"!collapsed\" class=\"contents\">\r\n      <div>\r\n        <b>Schedule Time:</b>\r\n        <Clock :timeFunction=\"getScheduleTime\" />\r\n      </div>\r\n\r\n      <div>\r\n        <b>Debug Time:</b>\r\n        <DebugTimeInput :scheduler=\"scheduler\" />\r\n      </div>\r\n\r\n      <div>\r\n        <button @click=\"togglePinned\">{{ pinned ? 'Unpin' : 'Pin' }}</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Clock from './Clock';\r\nimport DebugTimeInput from './DebugTimeInput';\r\n\r\nexport default {\r\n  name: 'DebugPane',\r\n  props: {\r\n    scheduler: {\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      collapsed: true,\r\n      pinned: false,\r\n    };\r\n  },\r\n  components: {\r\n    Clock,\r\n    DebugTimeInput,\r\n  },\r\n  methods: {\r\n    expand() {\r\n      this.collapsed = false;\r\n    },\r\n    collapse() {\r\n      if (!this.pinned) {\r\n        this.collapsed = true;\r\n      }\r\n    },\r\n    togglePinned() {\r\n      this.pinned = !this.pinned;\r\n    },\r\n    getScheduleTime() {\r\n      return this.scheduler.getScheduleTime();\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n.contents {\r\n  display: flex;\r\n  justify-content: space-around;\r\n  background: #fff;\r\n  padding: 5px 10px;\r\n}\r\n\r\n.contents > div {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n\r\n  text-align: center;\r\n  font: normal 10pt arial,helvetica,sans-serif;\r\n}\r\n\r\n.contents > div > *:first-child {\r\n  margin-right: 5px;\r\n}\r\n\r\n.collapsed {\r\n  height: 1px;\r\n  background: #333;\r\n  padding: 0;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/DebugPane.vue","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Clock.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Clock.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6680d8e4\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Clock.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Clock.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./DebugTimeInput.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./DebugTimeInput.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-738e4bc9\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./DebugTimeInput.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/DebugTimeInput.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{ collapsed: _vm.collapsed, 'debugPane': true },on:{\"mouseover\":_vm.expand,\"mouseout\":_vm.collapse}},[(!_vm.collapsed)?_c('div',{staticClass:\"contents\"},[_c('div',[_c('b',[_vm._v(\"Schedule Time:\")]),_vm._v(\" \"),_c('Clock',{attrs:{\"timeFunction\":_vm.getScheduleTime}})],1),_vm._v(\" \"),_c('div',[_c('b',[_vm._v(\"Debug Time:\")]),_vm._v(\" \"),_c('DebugTimeInput',{attrs:{\"scheduler\":_vm.scheduler}})],1),_vm._v(\" \"),_c('div',[_c('button',{on:{\"click\":_vm.togglePinned}},[_vm._v(_vm._s(_vm.pinned ? 'Unpin' : 'Pin'))])])]):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-cc5bf372\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/DebugPane.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-cc5bf372\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./DebugPane.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./DebugPane.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./DebugPane.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-cc5bf372\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./DebugPane.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-cc5bf372\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/DebugPane.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div>\r\n    <iframe class=\"player\" :src=\"source\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'IFramePlayer',\r\n  props: {\r\n    source: {\r\n      type: String,\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n.player {\r\n  width: 100%;\r\n  height: 100%;\r\n  border: none;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/IFramePlayer.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('iframe',{staticClass:\"player\",attrs:{\"src\":_vm.source}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ed57dcba\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/IFramePlayer.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ed57dcba\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./IFramePlayer.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./IFramePlayer.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./IFramePlayer.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ed57dcba\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./IFramePlayer.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-ed57dcba\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/IFramePlayer.vue\n// module id = null\n// module chunks = ","export default class Eventable {\r\n  listeners = {};\r\n\r\n  /**\r\n   * Registers the `listener` for the `event`.\r\n   *\r\n   * @param {string}   event    The name of the event to listen to\r\n   * @param {Function} listener The function to call when the event is triggered\r\n   */\r\n  on(event, listener) {\r\n    if (typeof listener !== 'function') {\r\n      throw new Error('The \\'listener\\' parameter must be a function');\r\n    }\r\n\r\n    this.listeners[event] = this.listeners[event] || [];\r\n    this.listeners[event].push(listener);\r\n  }\r\n\r\n  /**\r\n   * Unregisters the `listener` for the `event`.\r\n   *\r\n   * @param {string}   event    The name of the event to listen to\r\n   * @param {Function} listener The listener function to remove, or undefined to\r\n   *                            remove all listeners for the event\r\n   *\r\n   * @returns {Boolean} true if an event listener was removed; false otherwise\r\n   */\r\n  off(event, listener) {\r\n    const listeners = this.listeners;\r\n    const oldListeners = listeners[event];\r\n\r\n    if (typeof listener === 'undefined') {\r\n      listeners[event] = [];\r\n\r\n      return oldListeners.length > 0;\r\n    } else if (listeners[event] == null || listeners[event].length === 0) {\r\n      return false;\r\n    }\r\n\r\n    listeners[event] = listeners[event].filter(item => item !== listener);\r\n\r\n    return oldListeners.length > listeners[event].length;\r\n  }\r\n\r\n  /**\r\n   * Fires the `event` with the `args`, calling each registered listener for\r\n   * that event.\r\n   *\r\n   * @param {string} event The name of the event to fire\r\n   * @param {...*}   args  The arguments to pass to the listener\r\n   *\r\n   * @returns {Boolean} true if one or more event listeners were called; false\r\n   *                    otherwise\r\n   */\r\n  fire(event, ...args) {\r\n    const listeners = this.listeners[event];\r\n\r\n    if (listeners && listeners.length) {\r\n      listeners.forEach(listener => listener(...args));\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/Eventable.js","import Eventable from '../../utils/Eventable';\r\n\r\n/**\r\n * A class used to rotate through a list of programs, allowing them to play for\r\n * a specific amount of time before rotating to the next one.\r\n *\r\n * # Events\r\n *\r\n * activate\r\n * : Fired when a program is activated\r\n */\r\nexport default class Rotater extends Eventable {\r\n  /**\r\n   * The list of potential programs this rotator rotates through.\r\n   *\r\n   * @type {Array}\r\n   */\r\n  programs = [];\r\n\r\n  /**\r\n   * The index of the current program.\r\n   *\r\n   * @type {Number}\r\n   */\r\n  currentIndex = -1;\r\n\r\n  /**\r\n   * Maps programs to the timers being used to keep track of the next update for\r\n   * each program.\r\n   *\r\n   * @type {Map}\r\n   */\r\n  timer = undefined;\r\n\r\n  /**\r\n   * Updates the programs for this rotator. Use this method instead of setting\r\n   * the property directly on this object to allow the rotator to update\r\n   * correctly.\r\n   *\r\n   * @param {Array} programs The list of programs to rotate through\r\n   */\r\n  updatePrograms(programs) {\r\n    const oldPrograms = this.programs;\r\n\r\n    this.programs = programs || [];\r\n\r\n    // Does any new program match the currently running program? If so, just set\r\n    // the index to it and allow the existing timer and program to play\r\n    if (programs && oldPrograms) {\r\n      const oldProgram = oldPrograms[this.currentIndex];\r\n      const newIndex = programs.findIndex(program => program.isEquivalent(oldProgram));\r\n\r\n      if (newIndex >= 0) {\r\n        this.currentIndex = newIndex;\r\n\r\n        if (this.timer) {\r\n          return;\r\n        }\r\n      }\r\n    }\r\n\r\n    this.activateProgram();\r\n  }\r\n\r\n  /**\r\n   * Activates the program and sets a timer to rotate in the next program when\r\n   * this one is done.\r\n   *\r\n   * @param {object} program The program to activate\r\n   */\r\n  activateProgram() {\r\n    const oldProgram = this.programs[this.currentIndex];\r\n\r\n    this.currentIndex = this.programs.length ? (this.currentIndex + 1) % this.programs.length : -1;\r\n\r\n    const program = this.programs[this.currentIndex];\r\n\r\n    // Cancel any timer that exists\r\n    if (this.timer) {\r\n      clearTimeout(this.timer);\r\n      this.timer = undefined;\r\n    }\r\n\r\n    if (program && !program.isEquivalent(oldProgram)) {\r\n      this.fire('activate', program);\r\n\r\n      // Only schedule the rotater if we have more than one program\r\n      if (this.programs.length > 1) {\r\n        this.timer = setTimeout(() => this.activateProgram(), program.options.length * 1000);\r\n      }\r\n    } else {\r\n      // TODO: Fire 'noProgram' event?\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/scheduler/Rotater.js","import moment from 'moment';\r\n\r\n/**\r\n * Returns `currentDay` if it exists in `days`, otherwise the next day in after\r\n * `currentDay` that exists in `days`. For the integer value, Sunday is day 0\r\n * and Saturday is day 6.\r\n *\r\n * @param {Array<integer>} days       An ascending sorted array of days\r\n * @param {integer}        currentDay The current day, expressed as an integer\r\n *\r\n * @return {integer} The next future day expressed as an integer\r\n */\r\nexport function getFutureDay(days, currentDay) {\r\n  return days.find(day => day >= currentDay) || days[0];\r\n}\r\n\r\n/**\r\n * Returns `currentDay` if it exists in `days`, otherwise the previous day\r\n * before `currentDay` that exists in `days`. For the integer value, Sunday is\r\n * day 0 and Saturday is day 6.\r\n *\r\n * @param {Array<integer>} days       An ascending sorted array of days\r\n * @param {integer}        currentDay The current day, expressed as an integer\r\n *\r\n * @return {integer} The previous past day expressed as an integer\r\n */\r\nexport function getPastDay(days, currentDay) {\r\n  const reverseDays = days.slice().reverse();\r\n\r\n  return reverseDays.find(day => day <= currentDay) || days[days.length - 1];\r\n}\r\n\r\n/**\r\n * Sets the time for the `dateTime` to the same time specified by `time`.\r\n *\r\n * @param {moment} dateTime The datetime whose time should be set\r\n * @param {moment} time     A moment specifying the time to set\r\n *\r\n * @return {moment} The datetime passed in as `dateTime`\r\n */\r\nexport function setTime(dateTime, time) {\r\n  dateTime.hour(time.hour());\r\n  dateTime.minute(time.minute());\r\n  dateTime.second(time.second());\r\n  dateTime.milliseconds(time.milliseconds());\r\n\r\n  return dateTime;\r\n}\r\n\r\n/**\r\n * Returns true if `time` represents midnight; false otherwise.\r\n *\r\n * @param {moment} time The time to check\r\n *\r\n * @return {Boolean} true if `time` represents midnight; false otherwise.\r\n */\r\nexport function isMidnight(time) {\r\n  return time && time.hour() === 0 && time.minute() === 0 && time.second() === 0;\r\n}\r\n\r\n/**\r\n * Parses a string into a moment representing a time during the day. If the\r\n * string is null, undefined or empty, returns undefined.\r\n *\r\n * @param {string} time The time to parse, in HH:MM:SS format\r\n *\r\n * @return {moment} A moment representing that time during the day\r\n */\r\nexport function parseTime(time) {\r\n  if (moment.isMoment(time)) {\r\n    return moment(time);\r\n  }\r\n\r\n  return time != null && time !== '' ? moment(time, moment.HTML5_FMT.TIME_SECONDS) : undefined;\r\n}\r\n\r\n/**\r\n * Parses a string into a moment representing a specific date and time. If the\r\n * string is null, undefined or empty, returns undefined.\r\n *\r\n * @param {string} time The datetime to parse\r\n *\r\n * @return {moment} A moment representing a specific date and time\r\n */\r\nexport function parseDateTime(datetime) {\r\n  return datetime != null && datetime !== '' ? moment(datetime) : undefined;\r\n}\r\n\r\n/**\r\n * Parses an array of day of the week abbreviations into an array of integers\r\n * representing those days of the week, where `sun` is 0 and `sat` is 6.\r\n *\r\n * @param {Array<string>} days An array of string names of days of the week\r\n *\r\n * @return {Array<integer>} An array of integer days of the week\r\n */\r\nexport function parseDays(days) {\r\n  const daysOfWeek = ['sun', 'mon', 'tues', 'wed', 'thurs', 'fri', 'sat'];\r\n\r\n  return days.map((day) => {\r\n    const dayIndex = typeof day === 'string' ? daysOfWeek.indexOf(day) : day;\r\n\r\n    if (dayIndex === -1) {\r\n      throw new Error(`Unknown day of the week: ${day}`);\r\n    }\r\n\r\n    return dayIndex;\r\n  });\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/date.js","import moment from 'moment';\r\nimport {\r\n  getFutureDay,\r\n  getPastDay,\r\n  setTime,\r\n  isMidnight,\r\n  parseTime,\r\n  parseDateTime,\r\n  parseDays,\r\n} from '../../utils/date';\r\n\r\n/**\r\n * Returns true if a schedule is always active; false otherwise. A schedule is\r\n * always active if it is scheduled 7 days a week from 00:00 to 24:00.\r\n *\r\n * Note that schedules that are always active can still be restricted to only\r\n * being active between a start datetime and end datetime.\r\n *\r\n * @param {object} schedule The schedule to check\r\n *\r\n * @return {Boolean} true if the schedule is always active; false otherwise\r\n */\r\nfunction isAlwaysActive(schedule) {\r\n  return schedule.days && schedule.days.length === 7 &&\r\n         isMidnight(schedule.startTime) && isMidnight(schedule.endTime);\r\n}\r\n\r\n/**\r\n * Returns the next date-time after the schedule time that occurs on one of the\r\n * days in `days` at the time `time`. If `direction`, is `future`, this time\r\n * will be after the schedule time; otherwise it will be before the schedule time.\r\n *\r\n * @param {Array<integer>} days        An ascending sorted array of integer days\r\n * @param {moment}         time        The time of day for the next time\r\n * @param {moment}         scheduleTime The schedule time to calculate from\r\n * @param {string}         direction   One of: future, past\r\n *\r\n * @return {moment} The date-time of the next time\r\n */\r\nfunction getNextDateTime(days, time, scheduleTime, direction) {\r\n  if (!days || !days.length) {\r\n    return undefined;\r\n  }\r\n\r\n  const scheduleDay = scheduleTime.day();\r\n\r\n  let baseDay = scheduleDay;\r\n  let nextDay;\r\n  let daysUntil;\r\n\r\n  // If the time has already passed for this day and we're looking into the\r\n  // future, then start with the next day\r\n  if (direction === 'future') {\r\n    // TODO: I think there's a bug here if the time is *exactly* the same as the\r\n    //       schedule time and we're using this function to calculate the end\r\n    //       time. It defaults to the old time, not the next time [twl 17.Mr.18]\r\n    if (setTime(moment(scheduleTime), time).isBefore(scheduleTime)) {\r\n      baseDay = scheduleDay < 6 ? scheduleDay + 1 : 0;\r\n    }\r\n\r\n    nextDay = getFutureDay(days, baseDay);\r\n    daysUntil = nextDay - scheduleDay;\r\n  } else {\r\n    if (setTime(moment(scheduleTime), time).isAfter(scheduleTime)) {\r\n      baseDay = scheduleDay > 0 ? scheduleDay - 1 : 6;\r\n    }\r\n\r\n    nextDay = getPastDay(days, baseDay);\r\n    daysUntil = scheduleDay - nextDay;\r\n  }\r\n\r\n  if (daysUntil < 0) {\r\n    daysUntil += 7;\r\n  }\r\n\r\n  const nextDateTime = moment(scheduleTime);\r\n\r\n  nextDateTime.add(daysUntil, 'days');\r\n\r\n  setTime(nextDateTime, time);\r\n\r\n  return nextDateTime;\r\n}\r\n\r\n/**\r\n * Deserializes and parses values in a program that uses the new API format.\r\n *\r\n * @param {object} program The program to parse\r\n *\r\n * @return {object} The program with values deserialized\r\n */\r\nfunction parseProgram(program) {\r\n  const schedule = (program && program.schedule) || {};\r\n  const allDays = ['sun', 'mon', 'tues', 'wed', 'thurs', 'fri', 'sat'];\r\n\r\n  return Object.assign({}, program, {\r\n    schedule: {\r\n      days: parseDays(schedule.days || allDays),\r\n      startTime: parseTime(schedule.startTime || '00:00'),\r\n      endTime: parseTime(schedule.endTime || '24:00'),\r\n      startDateTime: parseDateTime(schedule.startDateTime),\r\n      endDateTime: parseDateTime(schedule.endDateTime),\r\n    },\r\n  });\r\n}\r\n\r\n\r\n/**\r\n * Represents a program that is set to run on a schedule.\r\n */\r\nexport default class Program {\r\n  /**\r\n   * Whether this program is enabled.\r\n   *\r\n   * @type {Boolean}\r\n   */\r\n  isEnabled = true;\r\n\r\n  /**\r\n   * Whether this program is active.\r\n   *\r\n   * @type {Boolean}\r\n   */\r\n  isActive = false;\r\n\r\n  /**\r\n   * Constructs a new program using the given configuration information.\r\n   *\r\n   * @param {object} config Initial settings for the program\r\n   */\r\n  constructor(config) {\r\n    Object.assign(this, parseProgram(config));\r\n\r\n    if (this.options && typeof this.options.enabled !== 'undefined') {\r\n      this.isEnabled = this.options.enabled;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Configures the next run of this program and sets the `nextRun` property to\r\n   * an object containing the `startAt`, `endAt`, `isActive` and `isExpired`\r\n   * values for the next run on or after the `scheduleTime`.\r\n   *\r\n   * @param {[type]} scheduleTime [description]\r\n   */\r\n  configureNextRun(scheduleTime) {\r\n    const schedule = this.schedule;\r\n    const nextRun = {\r\n      startAt: undefined,\r\n      endAt: undefined,\r\n      isExpired: false,\r\n    };\r\n\r\n    // Schedules scheduled 24/7 are always active\r\n    if (isAlwaysActive(schedule)) {\r\n      // If an always active schedule has a start datetime, don't start until then\r\n      if (schedule.startDateTime) {\r\n        nextRun.startAt = schedule.startDateTime;\r\n      }\r\n\r\n      if (schedule.endDateTime) {\r\n        nextRun.endAt = schedule.endDateTime;\r\n        nextRun.isExpired = nextRun.endAt.isBefore(scheduleTime);\r\n      }\r\n    } else {\r\n      let baseTime = scheduleTime;\r\n      let fixedStart = false; // Indicates whether the start time was calculated or not\r\n\r\n      if (schedule.startTime) {\r\n        // If the program isn't scheduled to run into a specific datetime, then\r\n        // calculate our start time from that point on\r\n        if (schedule.startDateTime && schedule.startDateTime.isAfter(scheduleTime)) {\r\n          baseTime = schedule.startDateTime;\r\n        }\r\n\r\n        // TODO: Investigate whether this returns a time in the past if the schedule\r\n        //       is set with a specific startDateTime for the past. [twl 20.Mar.18]\r\n        nextRun.startAt = getNextDateTime(schedule.days, schedule.startTime, baseTime, 'future');\r\n      } else {\r\n        nextRun.startAt = schedule.startDateTime;\r\n        fixedStart = true;\r\n      }\r\n\r\n      if (schedule.endTime) {\r\n        nextRun.endAt = getNextDateTime(schedule.days, schedule.endTime, baseTime, 'future');\r\n\r\n        // If we have a specific datetime that the program ends, it overrides\r\n        // the normal end time of the program\r\n        if (schedule.endDateTime && schedule.endDateTime.isBefore(nextRun.endAt)) {\r\n          nextRun.endAt = schedule.endDateTime;\r\n        }\r\n      } else {\r\n        nextRun.endAt = schedule.endDateTime;\r\n      }\r\n\r\n      // If the next scheduled start date is after the next scheduled end date,\r\n      // that means this is an active schedule and we have to look in the past for\r\n      // the start date\r\n      if (!fixedStart && nextRun.startAt.isAfter(nextRun.endAt)) {\r\n        nextRun.startAt = getNextDateTime(schedule.days, schedule.startTime, baseTime, 'past');\r\n      }\r\n\r\n      // Handle when start & end time are both the same (e.g. `00:00` and `24:00`)\r\n      if (nextRun.startAt.isSame(nextRun.endAt)) {\r\n        nextRun.endAt.add(1, 'days');\r\n\r\n        if (schedule.endDateTime && schedule.endDateTime.isBefore(nextRun.endAt)) {\r\n          nextRun.endAt = schedule.endDateTime;\r\n        }\r\n      }\r\n\r\n      // Disable the schedule after the schedule time\r\n      nextRun.isExpired = (schedule.endDateTime != null &&\r\n                           nextRun.startAt.isAfter(schedule.endDateTime)) ||\r\n                          (nextRun.endAt && nextRun.endAt.isBefore(scheduleTime));\r\n    }\r\n\r\n    this.nextRun = nextRun;\r\n\r\n    // The program is active when it is enabled and the schedule time is in\r\n    // between its start and end times (or it has no start or end time)\r\n    this.isActive = this.isEnabled &&\r\n       (!nextRun.startAt || nextRun.startAt.isSameOrBefore(scheduleTime)) &&\r\n       (!nextRun.endAt || nextRun.endAt.isAfter(scheduleTime));\r\n  }\r\n\r\n  /**\r\n   * Returns true if `program` is equivalent to this program.\r\n   */\r\n  isEquivalent(program) {\r\n    /**\r\n     * TODO: Add support for comparing schedule `days`, `startTime` and\r\n     *       `endTime`, which may require special comparators. Also consider\r\n     *       renaming this `hasEquivalentSchedule` or splitting into\r\n     *       `isSameSchedule` and `isSamePlayer`--the latter for `url` and\r\n     *       `type`. Options may not be relevant for comparison. [twl 20.Mar.18]\r\n     */\r\n    return program &&\r\n      program.url === this.url &&\r\n      program.type === this.type;\r\n\r\n    // TODO: Active these once I have more time to test them. [twl 20.Mar.18]\r\n    //\r\n    // program.priority === this.priority &&\r\n    // program.schedule.startDateTime === this.schedule.startDateTime &&\r\n    // program.schedule.endDateTime === this.schedule.endDateTime;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/scheduler/Program.js","/**\r\n * Parses a string into an integer. If the string is null, undefined or empty,\r\n * returns undefined.\r\n *\r\n * @param {string} number The string to parse\r\n *\r\n * @return {integer} An integer\r\n */\r\nfunction parseInt(number) {\r\n  return number != null && number !== '' ? Number.parseInt(number, 10) : undefined;\r\n}\r\n\r\n/**\r\n * Converts empty strings to undefined; if the value is not an empty string,\r\n * does nothing.\r\n *\r\n * @param {string} value A value to convert to undefined\r\n *\r\n * @return {string} The value, or undefined if the value was an empty string\r\n */\r\nfunction convertBlanks(value) {\r\n  return value !== '' ? value : undefined;\r\n}\r\n\r\n/**\r\n * Fixes formatting issues with the GUID from the API.\r\n *\r\n * @param {string} guid The value of the `guid` field\r\n *\r\n * @return {string} The corrected value\r\n */\r\nfunction fixGuidHack(guid) {\r\n  return guid && guid.replace('&#038;', '&');\r\n}\r\n\r\n/**\r\n * Returns true if the data uses the ACF API format.\r\n *\r\n * @param {object} data A data response from an API\r\n *\r\n * @return {Boolean} true if the data is in ACF API format; false otherwise\r\n */\r\nexport function usesAcfFormat(data) {\r\n  return data != null && data.acf != null;\r\n}\r\n\r\n/**\r\n * Transforms a program in ACF format from the API into the new format that will\r\n * be used when a custom API is created.\r\n *\r\n * @param {object} program The program in ACF format\r\n *\r\n * @return {object} The program in the new format\r\n */\r\nexport function transformAcfProgram(program) {\r\n  const result = {\r\n    // The type of content to display--for now only supporting iframes\r\n    type: 'iframe',\r\n\r\n    // The URL to the content\r\n    url: program.content && (fixGuidHack(program.content.guid).replace(/https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}/, document.location.origin)),\r\n\r\n    priority: program.priority,\r\n\r\n    schedule: {\r\n      // The days and times to schedule the content if repeating\r\n      days: program.play_days,\r\n      startTime: convertBlanks(program.play_start),\r\n      endTime: convertBlanks(program.play_end),\r\n\r\n      // Specific start and end times to play the content\r\n      startDateTime: convertBlanks(program.publish_datetime),\r\n      endDateTime: convertBlanks(program.unpublish_datetime),\r\n    },\r\n\r\n    // Options for playing the content\r\n    options: {\r\n      enabled: program.play_disable !== true,\r\n      length: parseInt(program.play_length),\r\n      transitions: null,\r\n    },\r\n  };\r\n\r\n  if (program.play_exact) {\r\n    result.priority = 10;\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\n/**\r\n * Transforms the data returned from the ACF API into program configurations\r\n * that can be used to create a Program in the Scheduler.\r\n *\r\n * @param {object} data The data returned from the API\r\n *\r\n * @return {Array<object>} An array of schedule objects\r\n */\r\nexport function transformAcfData(data) {\r\n  const programs = [];\r\n\r\n  if (data && data.acf && data.acf.schedule_repeater) {\r\n    data.acf.schedule_repeater.forEach((program) => {\r\n      programs.push(transformAcfProgram(program));\r\n    });\r\n  } else {\r\n    throw new Error('Cannot find program data in ACF data');\r\n  }\r\n\r\n  return programs;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/api-acf.js","import Vue from 'vue';\r\nimport { usesAcfFormat, transformAcfData } from './api-acf';\r\n\r\n/**\r\n * Transforms the data returned from the API into schedule objects that can be\r\n * passed to the Scheduler.\r\n *\r\n * @param {object} data The data returned from the API\r\n *\r\n * @return {Array<object>} An array of schedule objects\r\n */\r\nexport function transformProgramData(data) {\r\n  let programs = [];\r\n\r\n  if (usesAcfFormat(data)) {\r\n    programs = transformAcfData(data);\r\n  } else if (data.programs) {\r\n    programs = data.programs;\r\n  } else {\r\n    throw new Error('No schedule data exists in response from server');\r\n  }\r\n\r\n  return programs;\r\n}\r\n\r\n/**\r\n * Loads data about a specific screen from the ACF API.\r\n *\r\n * @param {string}        apiBase  The URL to the API\r\n * @param {string|number} screenId The ID of the screen\r\n *\r\n * @return {object} A data object reprenseting info about the screen.\r\n */\r\nexport async function loadScreenInfo(apiBase, screenId) {\r\n  const response = await Vue.http.get(`${apiBase}kiosign_screens/${screenId}`);\r\n\r\n  return response.data;\r\n}\r\n\r\n/**\r\n * Loads programs from a specific URL.\r\n *\r\n * @param {string} url  The URL to retrieve the programs from.\r\n *\r\n * @return {Array<object>} An array of program objects\r\n */\r\nexport async function loadPrograms(url) {\r\n  const response = await Vue.http.get(url);\r\n\r\n  return transformProgramData(response.data);\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/api.js","import Vue from 'vue';\r\nimport moment from 'moment';\r\nimport Program from './Program';\r\nimport Eventable from '../../utils/Eventable';\r\nimport { loadPrograms } from '../../utils/api';\r\n\r\n/**\r\n * Finds the highest priority used by the `programs` and filters the array to\r\n * only include the programs with that priority. If the highest priority is 0,\r\n * all programs are returned.\r\n *\r\n * @param {Array} programs A list of programs\r\n *\r\n * @return {Array} A list of the programs with the highest priority\r\n */\r\nexport function filterByHighestPriority(programs) {\r\n  let filtered = [];\r\n  let priority = 0;\r\n\r\n  programs.forEach((program) => {\r\n    if (program.priority && program.priority > priority) {\r\n      filtered = [program];\r\n      priority = program.priority;\r\n    } else if (priority === 0 || program.priority === priority) {\r\n      filtered.push(program);\r\n    }\r\n  });\r\n\r\n  return filtered;\r\n}\r\n\r\n/**\r\n * The maximum valid value for `setTimeout`, equal to MAX_INT32=(2^31-1)\r\n *\r\n * @type {number}\r\n */\r\nconst MAXIMUM_TIMEOUT = 0x7FFFFFFF;\r\n\r\n/**\r\n * A class used to schedule programs.\r\n *\r\n * # Events\r\n *\r\n * programStart\r\n * : Fired when a program starts\r\n *\r\n * programEnd\r\n * : Fired when a program ends\r\n *\r\n * update\r\n * : Fired when the scheduler has been updated\r\n */\r\nexport default class Scheduler extends Eventable {\r\n  /**\r\n   * The base time used to calculate the schedule time when in debug mode. Use\r\n   * `setDebugTime` to set this time and activate debug mode and\r\n   * `clearDebugTime` to exit debug mode.\r\n   *\r\n   * @type {moment}\r\n   */\r\n  debugTime = undefined;\r\n\r\n  /**\r\n   * The time when the `debugTime` was last set.\r\n   *\r\n   * @type {moment}\r\n   */\r\n  debugTimeSetAt = undefined;\r\n\r\n  /**\r\n   * The base time from the server used to synchronize multiple screens. Use\r\n   * `setServerTime` to set this time and activate server-time mode and\r\n   * `clearServerTime` to exit server-time mode.\r\n   *\r\n   * @type {moment}\r\n   */\r\n  serverTime = undefined;\r\n\r\n  /**\r\n   * The time when the `serverTime` was last set.\r\n   *\r\n   * @type {moment}\r\n   */\r\n  serverTimeSetAt = undefined;\r\n\r\n  /**\r\n   * The list of potential programs this scheduler can schedule.\r\n   *\r\n   * @type {Array}\r\n   */\r\n  programs = [];\r\n\r\n  /**\r\n   * The programs that are actively running using this scheduler.\r\n   *\r\n   * @type {Array}\r\n   */\r\n  activePrograms = [];\r\n\r\n  /**\r\n   * Maps programs to the timers being used to keep track of the next update for\r\n   * each program.\r\n   *\r\n   * @type {Map}\r\n   */\r\n  timers = new Map();\r\n\r\n  /**\r\n   * The frequency at which the schedules are reloaded, in seconds. Set to 0 to\r\n   * disable refreshing the schedules.\r\n   *\r\n   * @type {integer}\r\n   */\r\n  refreshRate = 0;\r\n\r\n  /**\r\n   * Sets the debug time to `time`. This activates debug mode and makes the\r\n   * schedule time continue to move forward from this time (e.g. if you set this\r\n   * to 13:00 and wait five minutes, the schedule time will be 13:05).\r\n   *\r\n   * @param {moment} time The time to set as the base time for the debug time\r\n   */\r\n  setDebugTime(time) {\r\n    this.debugTime = time;\r\n    this.debugTimeSetAt = moment();\r\n\r\n    this.scheduleAll();\r\n  }\r\n\r\n  /**\r\n   * Clears the debug time and exits debug mode. After calling this method, the\r\n   * schedule time used by this class will be the current time.\r\n   */\r\n  clearDebugTime() {\r\n    this.debugTime = undefined;\r\n    this.debugTimeSetAt = undefined;\r\n\r\n    this.scheduleAll();\r\n  }\r\n\r\n  /**\r\n   * Sets the server time to `time`. This activates server-time mode and makes the\r\n   * schedule time continue to move forward from this time (e.g. if you set this\r\n   * to 13:00 and wait five minutes, the schedule time will be 13:05).\r\n   *\r\n   * @param {moment} time The time to set as the base time for the server time\r\n   */\r\n  setServerTime(time) {\r\n    this.serverTime = time;\r\n    this.serverTimeSetAt = moment();\r\n\r\n    this.scheduleAll();\r\n  }\r\n\r\n  /**\r\n   * Clears the server time and exits server-time mode. After calling this method, the\r\n   * schedule time used by this class will be the current time.\r\n   */\r\n  clearServerTime() {\r\n    this.serverTime = undefined;\r\n    this.serverTimeSetAt = undefined;\r\n\r\n    this.scheduleAll();\r\n  }\r\n\r\n  /**\r\n   * Returns the current schedule time for this scheduler. This is the time used\r\n   * to calculate what programs are active.\r\n   *\r\n   * @return {moment} The current schedule time\r\n   */\r\n  getScheduleTime() {\r\n    // debugTime takes precedence\r\n    if (this.debugTime) {\r\n      const elapsed = moment() - this.debugTimeSetAt;\r\n\r\n      return moment(this.debugTime).add(elapsed, 'ms');\r\n    }\r\n\r\n    if (this.serverTime) {\r\n      const elapsed = moment() - this.serverTimeSetAt;\r\n\r\n      return moment(this.serverTime).add(elapsed, 'ms');\r\n    }\r\n\r\n    return moment();\r\n  }\r\n\r\n  /**\r\n   * Loads the schedules for this scheduler from the URL\r\n   *\r\n   * @param {string} url The URL to load the schedules from\r\n   */\r\n  async load(url) {\r\n    Vue.$log.debug('Scheduler', 'Loading program data from', url);\r\n\r\n    let programs = await loadPrograms(url);\r\n\r\n    programs = programs.map(program => new Program(program));\r\n\r\n    Vue.$log.debug('Scheduler', 'Loaded programs', programs);\r\n\r\n    // Cancel all existing timers before we reload\r\n    Object.values(this.timers).forEach(timer => clearTimeout(timer));\r\n    this.timers = new Map();\r\n\r\n    // (re)schedule all the programs\r\n    this.programs = programs;\r\n    this.scheduleAll();\r\n\r\n    if (this.refreshRate > 0) {\r\n      setTimeout(() => this.load(url), this.refreshRate * 1000);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Schedules all programs configured for this scheduler and fires an `update` event when done.\r\n   */\r\n  scheduleAll() {\r\n    this.programs.forEach(program => this.schedule(program));\r\n    this.update();\r\n  }\r\n\r\n  /**\r\n   * Schedules the next run of the `program` using the current schedule time.\r\n   *\r\n   * @param {Program} program The program to schedule\r\n   */\r\n  schedule(program) {\r\n    const scheduleTime = this.getScheduleTime();\r\n\r\n    scheduleTime.add(1, 's');\r\n\r\n    program.configureNextRun(scheduleTime);\r\n\r\n    if (program.nextRun.isExpired || !program.isEnabled) {\r\n      return;\r\n    }\r\n\r\n    const nextUpdateAt = program.isActive ? program.nextRun.endAt : program.nextRun.startAt;\r\n\r\n    let timeUntilNextUpdate = nextUpdateAt - scheduleTime;\r\n\r\n    if (!nextUpdateAt) {\r\n      return;\r\n    }\r\n\r\n    if (timeUntilNextUpdate > MAXIMUM_TIMEOUT) {\r\n      timeUntilNextUpdate = MAXIMUM_TIMEOUT;\r\n    }\r\n\r\n    // TODO: Write unit tests to test this more thoroughly and then add this as\r\n    //       an assertion here. [twl 17.Mar.18]\r\n    if (timeUntilNextUpdate < 0) {\r\n      throw new Error('Time until next update is less than 0--this should never happen');\r\n    }\r\n\r\n    // Decide on the next event now--due to timing issues, doing this within\r\n    // the timer can cause the wrong event to be sent\r\n    const event = program.isActive ? 'programEnded' : 'programStarted';\r\n\r\n    this.timers[program] = setTimeout(() => {\r\n      // Remove the old timer reference so we don't try to cancel it later\r\n      delete this.timers[program];\r\n\r\n      if (timeUntilNextUpdate < MAXIMUM_TIMEOUT) {\r\n        this.fire(event, program);\r\n        this.schedule(program);\r\n        this.update();\r\n      } else {\r\n        // Just reschedule if the time was so far in the future that we exceeded the max timeout\r\n        this.schedule(program);\r\n      }\r\n    }, timeUntilNextUpdate);\r\n  }\r\n\r\n  /**\r\n   * Updates the active schedule, if needed, and calls the registered callback\r\n   * for the scheduler.\r\n   */\r\n  update() {\r\n    this.activePrograms = this.programs.filter(program => program.isActive);\r\n    this.fire('update');\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/scheduler/Scheduler.js","<template>\r\n  <div class=\"layout layout-default\">\r\n    <h1 v-if=\"activePrograms && activePrograms.length === 0\">No Programs Are Currently Active</h1>\r\n\r\n    <IFramePlayer :class=\"{ inactive: !player1Active, player: true }\" :source=\"player1Url\" />\r\n    <IFramePlayer :class=\"{ inactive: player1Active, player: true }\" :source=\"player2Url\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport IFramePlayer from './IFramePlayer';\r\nimport Rotater from '../services/scheduler/Rotater';\r\nimport { filterByHighestPriority } from '../services/scheduler/Scheduler';\r\n\r\nexport default {\r\n  name: 'DefaultLayout',\r\n  props: {\r\n    programs: {\r\n      type: Array,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      activePrograms: undefined,\r\n      player1Url: '',\r\n      player2Url: '',\r\n      player1Active: true,\r\n      displayDelay: 3000,\r\n      rotater: null,\r\n      timer: null,\r\n    };\r\n  },\r\n  methods: {\r\n    /**\r\n     * Sets the URL property to undefined if the URL does not exist on one of the active programs.\r\n     *\r\n     * @param  {string} urlProperty The player URL property to change, e.g. `player1Url`\r\n     */\r\n    clearIfInactive(urlProperty) {\r\n      if (!this.activePrograms.find(program => program.url === this[urlProperty])) {\r\n        this[urlProperty] = undefined;\r\n      }\r\n    },\r\n  },\r\n  watch: {\r\n    programs(value) {\r\n      this.activePrograms = filterByHighestPriority(value);\r\n\r\n      this.$log.debug('DefaultLayout', 'Loaded programs', this.activePrograms);\r\n\r\n      if (!this.rotater) {\r\n        let firstRun = true;\r\n\r\n        this.rotater = new Rotater();\r\n\r\n        this.rotater.on('activate', (program) => {\r\n          this.$log.debug('DefaultLayout', 'Loading content from URL', program.url);\r\n\r\n          // Cancel any display that is in progress in favor of this one\r\n          if (this.timer) {\r\n            clearTimeout(this.timer);\r\n            this.timer = null;\r\n          }\r\n\r\n          // If player 1 is actively playing content, load the new content into\r\n          // player 2, then wait to display it\r\n          if (this.player1Active) {\r\n            this.player2Url = program.url;\r\n          } else {\r\n            this.player1Url = program.url;\r\n          }\r\n\r\n          // Delay showing the actual content to allow it to load first\r\n          //\r\n          // TODO: Attach a listener to the frame to use the 'load' event or\r\n          //       similar to handle this. [twl 20.Mar.18]\r\n          this.timer = setTimeout(() => {\r\n            this.$log.debug('DefaultLayout', 'Displaying content from URL', program.url);\r\n            this.player1Active = !this.player1Active;\r\n            this.timer = null;\r\n          }, firstRun ? 0 : this.displayDelay);\r\n\r\n          firstRun = false;\r\n        });\r\n      }\r\n\r\n      this.rotater.updatePrograms(this.activePrograms);\r\n\r\n      this.clearIfInactive('player1Url');\r\n      this.clearIfInactive('player2Url');\r\n    },\r\n  },\r\n  components: {\r\n    IFramePlayer,\r\n  },\r\n};\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n.layout-default {\r\n  width: 100%;\r\n  height: 100%;\r\n  background: #000;\r\n}\r\n\r\nh1 {\r\n  position: absolute;\r\n  width: 100vw;\r\n  font-family: arial,helvetica,sans-serif;\r\n  text-align: center;\r\n  color: #444;\r\n}\r\n\r\n.player {\r\n  position: absolute;\r\n  opacity: 1;\r\n  z-index: 1;\r\n  transition: opacity 2s;\r\n}\r\n\r\n.inactive {\r\n  opacity: 0;\r\n  transition: opacity 2s;\r\n}\r\n\r\n.inactive.player {\r\n  z-index: 0;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/DefaultLayout.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"layout layout-default\"},[(_vm.activePrograms && _vm.activePrograms.length === 0)?_c('h1',[_vm._v(\"No Programs Are Currently Active\")]):_vm._e(),_vm._v(\" \"),_c('IFramePlayer',{class:{ inactive: !_vm.player1Active, player: true },attrs:{\"source\":_vm.player1Url}}),_vm._v(\" \"),_c('IFramePlayer',{class:{ inactive: _vm.player1Active, player: true },attrs:{\"source\":_vm.player2Url}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d34bff90\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/DefaultLayout.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d34bff90\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./DefaultLayout.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./DefaultLayout.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./DefaultLayout.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d34bff90\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./DefaultLayout.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-d34bff90\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/DefaultLayout.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"layout layout-split\">\r\n    <h1 v-if=\"activePrograms && activePrograms.length === 0\">No Programs Are Currently Active</h1>\r\n\r\n    <div v-for=\"(program, index) in activePrograms\" :key=\"index\">\r\n      <IFramePlayer :source=\"program.url\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport IFramePlayer from './IFramePlayer';\r\nimport { filterByHighestPriority } from '../services/scheduler/Scheduler';\r\n\r\nexport default {\r\n  name: 'SplitLayout',\r\n  props: {\r\n    programs: {\r\n      type: Array,\r\n    },\r\n  },\r\n  computed: {\r\n    activePrograms: {\r\n      get() {\r\n        return filterByHighestPriority(this.programs);\r\n      },\r\n    },\r\n  },\r\n  components: {\r\n    IFramePlayer,\r\n  },\r\n};\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n.layout-split {\r\n  width: 100%;\r\n  height: 100%;\r\n  background: #000;\r\n  display: flex;\r\n}\r\n\r\n.layout-split > * {\r\n  flex: 1;\r\n  display: flex;\r\n}\r\n\r\n.layout-split > * > * {\r\n  flex: 1;\r\n}\r\n\r\nh1 {\r\n  position: absolute;\r\n  width: 100vw;\r\n  font-family: arial,helvetica,sans-serif;\r\n  text-align: center;\r\n  color: #444;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/SplitLayout.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"layout layout-split\"},[(_vm.activePrograms && _vm.activePrograms.length === 0)?_c('h1',[_vm._v(\"No Programs Are Currently Active\")]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.activePrograms),function(program,index){return _c('div',{key:index},[_c('IFramePlayer',{attrs:{\"source\":program.url}})],1)})],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-775f9f0f\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/SplitLayout.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-775f9f0f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SplitLayout.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./SplitLayout.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./SplitLayout.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-775f9f0f\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./SplitLayout.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-775f9f0f\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/SplitLayout.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"app\">\r\n    <DebugPane :scheduler=\"scheduler\" />\r\n    <SplitLayout v-if=\"layout === 'split'\" :programs=\"activePrograms\" />\r\n    <DefaultLayout v-else :programs=\"activePrograms\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport moment from 'moment';\r\nimport DebugPane from './components/DebugPane';\r\nimport DefaultLayout from './components/DefaultLayout';\r\nimport SplitLayout from './components/SplitLayout';\r\nimport Scheduler from './services/scheduler/Scheduler';\r\nimport { loadScreenInfo } from './utils/api';\r\n\r\nexport default {\r\n  name: 'App',\r\n  props: {\r\n    apiBase: {\r\n      type: String,\r\n    },\r\n    screenId: {\r\n      type: String,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      scheduler: new Scheduler(),\r\n      activePrograms: [],\r\n      layout: 'default',\r\n    };\r\n  },\r\n  components: {\r\n    DebugPane,\r\n    DefaultLayout,\r\n    SplitLayout,\r\n  },\r\n  mounted() {\r\n    loadScreenInfo(this.apiBase, this.screenId).then((response) => {\r\n      if (!response || !response.acf) {\r\n        throw new Error(`Could not load info for screen ${this.screenid}`);\r\n      }\r\n\r\n      const acf = response.acf;\r\n      const refreshRate = Number.parseInt(acf.screen_refresh, 10);\r\n      const scheduleId = acf.screen_content && acf.screen_content.ID;\r\n      const scheduleUrl = `${this.apiBase}kiosign_schedules/${scheduleId}`;\r\n\r\n      if (acf.layout) {\r\n        this.layout = acf.layout;\r\n      }\r\n\r\n      if (refreshRate) {\r\n        this.scheduler.refreshRate = refreshRate * 60;\r\n        this.$log.debug('App', `Scheduler refresh rate: ${refreshRate}`);\r\n      }\r\n\r\n      if (acf.server_time) {\r\n        this.scheduler.setServerTime(moment(acf.server_time));\r\n      }\r\n\r\n      this.scheduler.on('update', () => {\r\n        this.activePrograms = this.scheduler.activePrograms;\r\n        this.$log.debug('App', 'updated active programs', this.activePrograms);\r\n      });\r\n\r\n      this.scheduler.load(scheduleUrl);\r\n    });\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\nbody {\r\n  margin: 0;\r\n}\r\n\r\n.app {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100vw;\r\n  height: 100vh;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app\"},[_c('DebugPane',{attrs:{\"scheduler\":_vm.scheduler}}),_vm._v(\" \"),(_vm.layout === 'split')?_c('SplitLayout',{attrs:{\"programs\":_vm.activePrograms}}):_c('DefaultLayout',{attrs:{\"programs\":_vm.activePrograms}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3ec74f5c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3ec74f5c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3ec74f5c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from 'vue';\r\nimport VueLogger from 'vuejs-logger';\r\nimport VueResource from 'vue-resource';\r\nimport VueResourceMock from 'vue-resource-mock';\r\nimport App from './App';\r\n\r\nVue.use(VueLogger, { logLevel: 'debug' });\r\nVue.use(VueResource);\r\n\r\nif (process.env.NODE_ENV === 'development') {\r\n  /* eslint-disable global-require */\r\n  Vue.use(VueResourceMock, require('./dev/mocks').default, { silent: false });\r\n  /* eslint-enable global-require */\r\n}\r\n\r\nVue.config.productionTip = false;\r\n\r\n/**\r\n * Loads the configuration parameter from the element the app is bound to, or\r\n * if development mode, uses a hardcoded value.\r\n *\r\n * @param {string} parameter The name of the parameter to load\r\n * @param {string} devValue  The default value when in development mode\r\n *\r\n * @return {string} The value of the parameter\r\n */\r\nfunction loadConfig(parameter, devValue) {\r\n  return process.env.NODE_ENV === 'development' ? devValue : this.$el.attributes[parameter].value;\r\n}\r\n\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n  el: '#app',\r\n  components: { App },\r\n  template: '<App :apiBase=\"apiBase\" :screenId=\"screenId\" />',\r\n  data: {\r\n    apiBase: '',\r\n    screenId: '',\r\n  },\r\n  beforeMount() {\r\n    this.apiBase = loadConfig.call(this, 'data-api-base', '/wp-json/acf/v3/');\r\n    this.screenId = loadConfig.call(this, 'data-screen-id', '1');\r\n  },\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","var map = {\n\t\"./en-au\": \"Sjoy\",\n\t\"./en-au.js\": \"Sjoy\",\n\t\"./en-ca\": \"Tqun\",\n\t\"./en-ca.js\": \"Tqun\",\n\t\"./en-gb\": \"hPuz\",\n\t\"./en-gb.js\": \"hPuz\",\n\t\"./en-ie\": \"ALEw\",\n\t\"./en-ie.js\": \"ALEw\",\n\t\"./en-il\": \"QZk1\",\n\t\"./en-il.js\": \"QZk1\",\n\t\"./en-nz\": \"dyB6\",\n\t\"./en-nz.js\": \"dyB6\"\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"tdTh\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/locale en\n// module id = tdTh\n// module chunks = 1"],"sourceRoot":""}